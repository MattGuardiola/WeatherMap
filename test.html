<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="js/keys.js"></script>
  <title>Document</title>
  <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous"
  />
</head>
<body>
<form id="weather-form">
  <label for="city-name">Enter city name or ZIP code:</label>
  <input type="text" id="city-name" name="city-name">
  <button type="submit">Submit</button>
</form>

<div id="weather-info"></div>



<script>
  // Get the form element
  const weatherForm = $('#weather-form');

  // Bind a submit event listener to the form
  weatherForm.on('submit', function(e) {
    e.preventDefault();

    // Get the value of the city name or ZIP code input field
    const cityName = $('#city-name').val();

    // Make a GET request to the OpenWeatherMap API
    $.get(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${OPENWEATHER_API_KEY}`, function(data) {

      // Extract the relevant information from the API response
      const temperature = data.main.temp;
      const humidity = data.main.humidity;
      const weather = data.weather[0].main;

      // Update the weather info div with the extracted information
      $('#weather-info').html(`Temperature: ${temperature} &#8451; <br> Humidity: ${humidity}% <br> Weather: ${weather}`);
    }).fail(function(error){
      console.log(error);
      $('#weather-info').html(`Sorry, there was an error with your request. Please try again later.`);
    });
  });

</script>
</body>
</html>